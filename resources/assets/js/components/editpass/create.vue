<template>
<div>  
    <form action="#" @submit.prevent="createTask()" enctype="multipart/form-data" class="formedit">
        <div class="row">
            <!-- <div class="col-xs-12 col-sm-12 col-md-12  col-lg-12 "> -->

            <div class="col-xs-6 col-sm-6 col-md-6  col-lg-6 ">

                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                    <label for="exampleInputEmail1">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®(‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Å‡∏ó 1555/4584)</label>
               
     
                     <the-mask mask="## AAAA/AAAA" name="number_pks"  masked  class="form-control" v-model="task.number_pks" type="text" :tokens="hexTokens" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Å‡∏ó 1555/4584" required/>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                    <label for="exampleInputEmail1">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô 13 ‡∏´‡∏•‡∏±‡∏Å</label>
               
                      <the-mask class="form-control" name="number_kss" masked v-model="task.number_kss" type="text" :tokens="hexss" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô" mask="# #### ##### ## #"  required/>
                </div>

                <div class="form-group">

                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputEmail1">‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</label>
                        <input type="text" class="form-control" id="1" placeholder="‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤" name="prefix" v-model="task.prefix">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ä‡∏∑‡πà‡∏≠</label>
                        <input type="text" class="form-control" id="2" placeholder="‡∏ä‡∏∑‡πà‡∏≠" name="name" v-model="task.name">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                        <input type="text" class="form-control" id="3" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" name="lastname" v-model="task.lastname">
                    </div>

                    <hr>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
                        <input type="text" class="form-control" id="4" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠" name="contact" v-model="task.contact" required>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏)</label>
                        <input type="text" class="form-control" id="5" placeholder="‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏)" name="etc" v-model="task.etc">
                    </div>

                </div>


            </div>
            <div class="col-xs-6 col-sm-6 col-md-6  col-lg-6 ">
                <div class="form-group">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏â‡∏≤‡∏¢‡∏≤</label>
                        <input type="text" class="form-control" id="6" placeholder="‡∏â‡∏≤‡∏¢‡∏≤" name="monkname" v-model="task.monkname">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î</label>
                        <input type="date" class="form-control" id="7" placeholder="‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î" name="birthday" v-model="task.birthday">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ ‡∏≠‡∏∏‡∏õ‡∏™‡∏°‡∏ö‡∏ó</label>
                        <input type="date" class="form-control" id="8" placeholder="‡∏ß‡∏±‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ ‡∏≠‡∏∏‡∏õ‡∏™‡∏°‡∏ö‡∏ó" name="birth_monkday" v-model="task.birth_monkday">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
                        <input type="text" class="form-control" id="9" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" name="school_name" v-model="task.school_name">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-top:10px;">
                        <label for="exampleInputPassword1">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏ß‡∏±‡∏î</label>
                        <input type="text" class="form-control" id="10" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏ß‡∏±‡∏î" name="wat_name" v-model="task.wat_name">
                       
                    </div>
                    <hr>
                  <div class="hello">    
    <picture-input 
    name="image"
      ref="pictureInput" 
      @change="onChange" 
      width="300" 
      height="300" 
      margin="16" 
      accept="image/jpeg,image/png" 
      size="10" 
      buttonClass="btn btn-primary"
      :removable="true"
      removeButtonClass="btn"
      :customStrings="{
           change: '‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', // Text only
        upload: '<h1>Bummer!</h1>',
        remove: '‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ô‡∏µ‡πâ', // Text only
         select: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', // Text only
        drag: '‡∏Ñ‡∏•‡∏¥‡∏Å üîé ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û'
      }">
    </picture-input>
  </div>
<br>
                    <p class="help-block">‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô / ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠ / ‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡πÉ‡∏ö‡∏™‡∏∏‡∏ó‡∏ò‡∏¥. / ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏ß‡∏±‡∏î</p>
                    <hr>




                </div>
            </div>

        </div>
        <div align="center"><button type="submit" class="btn btn-default">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button></div>
        
    </form>
<!-- <vue-recaptcha sitekey="6Lev1WkUAAAAAOYUYkvXyAhGgXjF1XxCwz10SODc"></vue-recaptcha> -->
</div>


</template>

<script>
 
import VueTheMask from 'vue-the-mask'
import PictureInput from 'vue-picture-input'
Vue.use(VueTheMask)

    import axios from 'axios';
 
    export default {
        created: function () {

        },
        data() {
            return {
   
              
                image: null,
        //    removeImage2: false,
                list: [],
                task: {
                    id: '',
                    number_pks: '',
                    number_kss: '',
                    prefix: '',
                    name: '',
                    lastname: '',
                    monkname: '',
                    birthday: '',
                    birth_monkday: '',
                    school_name: '',
                    wat_name: '',
                    etc: '',
                    contact: '',
                    image: '',

                },
hexTokens: {
 '#': {pattern: /[‡∏Å-‡∏Æ]/},  // ‡∏Å-‡πô ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
 'A': {pattern: /[0-9]/},
},
hexss: {

 '#': {pattern: /[0-9]/},
}

            }
            
        },
//  props: ['masked'],
        components: {
  PictureInput
        },
        methods: {
onChange (image) {
      console.log('New picture selected!')
        //  console.log(this.$refs.pictureInput);
      if (image) {
        console.log('Picture loaded.')
        //  this.$refs.PictureInput.remove;
        this.image = image
      } else {
        console.log('FileReader API not supported: use the <form>, Luke!')
      }
    },
      
      submit(){
// this.$refs.recaptcha.execute();

      },

            createTask() {
                let red = this;
                var form = document.querySelector('.formedit');
                var formdata = new FormData(form);
                formdata.append('_token', this.token); // just the csrf token
                // console.log(formdata);
                axios.post('/api/editpass', formdata,
                 {       xsrfCookieName: 'csrftoken',
                         xsrfHeaderName: 'X-CSRFToken',
                            headers: {'X-Requested-With':'XMLHttpRequest','Content-Type': 'multipart/form-data'}})
                    .then((res) => {
                         console.log(res)
                        this.formErrors = [];
                        this.task.number_pks = '',
                            this.task.number_kss = '',
                            this.task.prefix = '',
                            this.task.name = '',
                            this.task.lastname = '',
                            this.task.monkname = '',
                            this.task.birthday = '',
                            this.task.birth_monkday = '',
                            this.task.school_name = '',
                            this.task.wat_name = '',
                            this.task.etc = '',
                            this.task.contact = '',
                            this.task.file = '',
                            this.image = '';
                             this.$emit('createNew');
                                    //  ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ function ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏∏ function ex: <editpass-create @updateNotes="getUsers"></editpass-create> ‡πÄ‡∏û‡∏¥‡πà‡∏° component ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô index
                                this.$refs.pictureInput.removeImage();
                                //‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á this.$refs.pictureInput.removeImage(); ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ function ‡πÉ‡∏ô component pictureinput remove ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                

                    })
                    .catch(function (error) {
                        if (error.response) {
                            red.formErrors = error.response.data.errors;
                        }
                    });
            },
 
        },
        componets: {
            // 'todo-item':{}

        },

    }
</script>